<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Efficient Bitruss Decomposition On GPU: src/bfc/bfc_vpp.cu File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Efficient Bitruss Decomposition On GPU
   </div>
   <div id="projectbrief">Bitruss Decomposition On GPU</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bfc__vpp_8cu.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bfc_vpp.cu File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Butterfly counting with vertex priority on GPU.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bfc_8cuh.html">bfc.cuh</a>&quot;</code><br />
<code>#include &lt;cuda_runtime.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bfc_vpp.cu:</div>
<div class="dyncontent">
<div class="center"><img src="bfc__vpp_8cu__incl.png" border="0" usemap="#asrc_2bfc_2bfc__vpp_8cu" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ace6a85a5895520e1314a4321577ac9e9"><td class="memItemLeft" align="right" valign="top">__global__ auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bfc__vpp_8cu.html#ace6a85a5895520e1314a4321577ac9e9">bfc_kernel</a> (uint n, const uint *d_offset, const uint *d_neighbors, uint *d_bitmaps, int *last_uses, const uint *d_degree, uint const blk_num, ull *cnt) -&gt; void</td></tr>
<tr class="memdesc:ace6a85a5895520e1314a4321577ac9e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kernel function for butterfly counting with vertex priority.  <a href="bfc__vpp_8cu.html#ace6a85a5895520e1314a4321577ac9e9">More...</a><br /></td></tr>
<tr class="separator:ace6a85a5895520e1314a4321577ac9e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94711b3d3bcceeb017fc0b72f28d0fc9"><td class="memItemLeft" align="right" valign="top">__global__ auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bfc__vpp_8cu.html#a94711b3d3bcceeb017fc0b72f28d0fc9">ebfc_kernel</a> (uint n, const uint *d_offset, const uint *d_neighbors, const uint *d_edge_ids, uint *d_edge_support, uint *d_bitmaps, int *last_uses, const uint *d_degree, uint const blk_num) -&gt; void</td></tr>
<tr class="memdesc:a94711b3d3bcceeb017fc0b72f28d0fc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kernel for edge-based butterfly counting with vertex priority.  <a href="bfc__vpp_8cu.html#a94711b3d3bcceeb017fc0b72f28d0fc9">More...</a><br /></td></tr>
<tr class="separator:a94711b3d3bcceeb017fc0b72f28d0fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78d346f5b9bb8d9fc071d9d8315e9bc5"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bfc__vpp_8cu.html#a78d346f5b9bb8d9fc071d9d8315e9bc5">bfc_evpp</a> (<a class="el" href="classGraph.html">Graph</a> *g) -&gt; void</td></tr>
<tr class="memdesc:a78d346f5b9bb8d9fc071d9d8315e9bc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize and launch the butterfly counting kernel.  <a href="bfc__vpp_8cu.html#a78d346f5b9bb8d9fc071d9d8315e9bc5">More...</a><br /></td></tr>
<tr class="separator:a78d346f5b9bb8d9fc071d9d8315e9bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85428e5182b633a3be79440dd63161e"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bfc__vpp_8cu.html#ab85428e5182b633a3be79440dd63161e">bfc_vpp</a> (<a class="el" href="classGraph.html">Graph</a> *g) -&gt; void</td></tr>
<tr class="memdesc:ab85428e5182b633a3be79440dd63161e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize and launch the butterfly counting kernel with count-only mode.  <a href="bfc__vpp_8cu.html#ab85428e5182b633a3be79440dd63161e">More...</a><br /></td></tr>
<tr class="separator:ab85428e5182b633a3be79440dd63161e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Butterfly counting with vertex priority on GPU. </p>
<p>This file contains the GPU-accelerated butterfly counting algorithm with vertex priority, designed to execute on GPU platform, supporting different bitruss algorithms. It utilizes CUDA to perform efficient butterfly counting, including both overall count and edge-specific butterfly counts.</p>
<p>The file also manages memory allocation and data transfer between the host and device, based on graph data inputs, and synchronizes results after kernel execution. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a78d346f5b9bb8d9fc071d9d8315e9bc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78d346f5b9bb8d9fc071d9d8315e9bc5">&#9670;&nbsp;</a></span>bfc_evpp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto bfc_evpp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGraph.html">Graph</a> *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td> -&gt; void </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize and launch the butterfly counting kernel. </p>
<p>This function allocates memory, copies data from host to device, and launches the <code>ebfc_kernel</code> for butterfly counting based on vertex priority. It also retrieves the maximum edge support value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>Pointer to the graph object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace6a85a5895520e1314a4321577ac9e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace6a85a5895520e1314a4321577ac9e9">&#9670;&nbsp;</a></span>bfc_kernel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ auto bfc_kernel </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint *&#160;</td>
          <td class="paramname"><em>d_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint *&#160;</td>
          <td class="paramname"><em>d_neighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint *&#160;</td>
          <td class="paramname"><em>d_bitmaps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>last_uses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint *&#160;</td>
          <td class="paramname"><em>d_degree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint const&#160;</td>
          <td class="paramname"><em>blk_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ull *&#160;</td>
          <td class="paramname"><em>cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; void </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kernel function for butterfly counting with vertex priority. </p>
<p>This kernel iterates over each vertex and its neighbors to identify butterfly structures and counts them based on the vertex priority. The count of butterflies is accumulated in a shared counter across threads within a block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>The number of vertices. </td></tr>
    <tr><td class="paramname">d_offset</td><td>The offset array for accessing neighbors. </td></tr>
    <tr><td class="paramname">d_neighbors</td><td>Array containing neighbors of each vertex. </td></tr>
    <tr><td class="paramname">d_bitmaps</td><td>Bitmap array used to mark vertices involved in butterfly structures. </td></tr>
    <tr><td class="paramname">last_uses</td><td>Array for tracking last-used vertices in the bitmap, for efficient reset. </td></tr>
    <tr><td class="paramname">d_degree</td><td>Degree array storing the degree of each vertex. </td></tr>
    <tr><td class="paramname">blk_num</td><td>The number of blocks in the grid. </td></tr>
    <tr><td class="paramname">cnt</td><td>Output variable to store the total count of butterflies. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab85428e5182b633a3be79440dd63161e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85428e5182b633a3be79440dd63161e">&#9670;&nbsp;</a></span>bfc_vpp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto bfc_vpp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGraph.html">Graph</a> *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td> -&gt; void </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize and launch the butterfly counting kernel with count-only mode. </p>
<p>This function sets up and launches the <code>bfc_kernel</code> for butterfly counting with vertex priority, where only the total butterfly count is obtained. Memory is allocated and data is copied to the device, then the result is copied back to the host after execution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>Pointer to the graph object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a94711b3d3bcceeb017fc0b72f28d0fc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94711b3d3bcceeb017fc0b72f28d0fc9">&#9670;&nbsp;</a></span>ebfc_kernel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ auto ebfc_kernel </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint *&#160;</td>
          <td class="paramname"><em>d_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint *&#160;</td>
          <td class="paramname"><em>d_neighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint *&#160;</td>
          <td class="paramname"><em>d_edge_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint *&#160;</td>
          <td class="paramname"><em>d_edge_support</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint *&#160;</td>
          <td class="paramname"><em>d_bitmaps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>last_uses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint *&#160;</td>
          <td class="paramname"><em>d_degree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint const&#160;</td>
          <td class="paramname"><em>blk_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; void </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kernel for edge-based butterfly counting with vertex priority. </p>
<p>This kernel computes the butterfly count for each edge by calculating its support. Edge support is the count of butterflies that contain a given edge.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Number of vertices. </td></tr>
    <tr><td class="paramname">d_offset</td><td>Array containing offsets to access neighbors. </td></tr>
    <tr><td class="paramname">d_neighbors</td><td>Array storing neighbors of each vertex. </td></tr>
    <tr><td class="paramname">d_edge_ids</td><td>Array mapping each edge to its unique ID. </td></tr>
    <tr><td class="paramname">d_edge_support</td><td>Output array that stores butterfly counts for each edge. </td></tr>
    <tr><td class="paramname">d_bitmaps</td><td>Bitmap array for marking vertices involved in butterfly structures. </td></tr>
    <tr><td class="paramname">last_uses</td><td>Array for tracking vertices involved in the butterfly structure for reset. </td></tr>
    <tr><td class="paramname">d_degree</td><td>Array storing degree of each vertex. </td></tr>
    <tr><td class="paramname">blk_num</td><td>Number of blocks in the grid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_e4a6f64f6b109e2e74a7dd3fb69521ed.html">bfc</a></li><li class="navelem"><a class="el" href="bfc__vpp_8cu.html">bfc_vpp.cu</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
